---
title: "Geographically Weighted Modeling of Financial Inclusion in Tanzania"
author: "Federico Jose Rodriguez"
date: "Oct 21 2024"
date-modified: "last-modified"
execute: 
  eval: true
  echo: true
  message: false
  freeze: true
---

WIP.

# A. Getting Started

## A.1 Background

WIP.

Financial inclusion des

Describe state and statistics in Africa and Tanzania

## A.2 Objectives

WIP.

## A.3 Data Sources

The following data sources are used for this analysis:

-   Finscope Tanzania 2023 individual survey data from [Finscope Tanzania](https://www.fsdt.or.tz/finscope/)

    -   The dataset is contained in a csv and translates the responses from 9,915 individuals who answered the survey

    -   The respondents are all adults aged 16 years and above take across Tanzania

    -   The dataset also includes derived fields

-   District-level boundaries in Tanzania as a shapefile from [geoBoundaries.org](https://www.geoboundaries.org/) portal

## A.4 Importing and Launching R Packages

For this study, the following R packages will be used. A description of the packages and the code, using `p_load()` of the **pacman** package, to import them is given below.

::: panel-tabset
#### Package Description

The loaded packages include:

-   **olsrr -** for building OLS (ordinary least squares) regression models and performing diagnostic tests

-   **GWmodel -** for calibrating geographically weighted family of models

-   **tmap -** for plotting cartographic quality maps

-   **corrplot** - for multivariate data visualization and analysis

-   **sf** - spatial data handling

-   **tidyverse** - attribute data handling

#### Import Code

```{r}
pacman::p_load(olsrr, corrplot, sf, GWmodel, tmap, tidyverse)
```
:::

As we will be performing simulations in the analysis later, it is good practice to define a random seed to be used so that results are consistent for viewers of this report, and the results can be reproduced.

```{r}
set.seed(1234)
```

# B. Data Loading and Preparation

## B.1. Loading Tanzania District boundaries

We load the district level boundaries in the following code chunk using `st_read()` and indicating the appropriate layer name. (i.e., the level 2 map)

```{r}
tz_dist <- st_read(dsn="data/geospatial", 
                   layer="geoBoundaries-TZA-ADM2")
```

The output shows that there are 170 objects loaded which corresponds to individual districts. The object is also of multipolygon class which could indicate that there are districts with discontinuous land areas, like islands.

We can create a simple map to visualize the boundaries using `qtm()` from **tmap**.

```{r}
qtm(tz_dist, text = "shapeName", text.size = 0.4)
```

## B.2 Loading Finscope Tanzania 2023 Respondent Data

We can use `read_csv()` in the code chunk below to load the raw respondent data into an R object.

```{r}
fstz23_raw <- read_csv("data/aspatial/FinScope Tanzania 2023_Individual Main Data_FINAL.csv")
```

There are 9915 rows or records, and 721 columns or fields. Most of these columns should not be relevant in meeting our objective, so it is advised to limit the data we work with to those meaningful variable. These variables should be our variable(s) of concern, or the dependent variable(s), and the variables that may contribute to it, or the independent variables.
